

-- 创建书籍表
CREATE TABLE IF NOT EXISTS books (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
title VARCHAR(255) NOT NULL,
author VARCHAR(255) NOT NULL,
price DOUBLE NOT NULL,
category VARCHAR(50) NOT NULL
);

-- 创建购物车表
CREATE TABLE IF NOT EXISTS shopping_carts (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
total DOUBLE NOT NULL DEFAULT 0.0
);

-- 创建购物车项表
CREATE TABLE IF NOT EXISTS cart_items (
id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
book_id BIGINT NOT NULL,
quantity INT NOT NULL,
cart_id BIGINT NOT NULL,
FOREIGN KEY (book_id) REFERENCES books(id),
FOREIGN KEY (cart_id) REFERENCES shopping_carts(id)
);